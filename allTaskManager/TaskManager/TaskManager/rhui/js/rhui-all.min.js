/**
 * Rhui
 * @author  accountwcx@qq.com
 * @date    2015-08-12
 */
(function(b,c){var a=b.Rhui||{};b.Rhui=a;a.isString=function(d){return Object.prototype.toString.call(d)==="[object String]"};a.isNullOrUndefined=function(d){return(d===null)||(d===undefined)};a.isFunction=function(d){return Object.prototype.toString.call(d)==="[object Function]"};a.isObject=function(d){return d!==null&&d!==undefined&&Object.prototype.toString.call(d)==="[object Object]"};a.isArray=function(d){return Object.prototype.toString.call(d)==="[object Array]"};a.isNumber=function(d){return Object.prototype.toString.call(d)==="[object Number]"};a.isDate=function(d){return Object.prototype.toString.call(d)==="[object Date]"};a.isBoolean=function(d){return Object.prototype.toString.call(d)==="[object Boolean]"};a.isHTMLElement=function(d){if(d&&d.nodeType===1){return true}else{return false}};(function(){var f=b.navigator.userAgent.toLowerCase(),e={},d;if(d=f.match(/msie ([\d.]+)/)){e.name="msie";e.version=d[1]}else{if(d=f.match(/trident 7.0/)){e.version="msie";e.ie="11.0"}else{if(d=f.match(/chrome\/([\d.\d]+)/)){e.name="chrome";e.version=d[1]}else{if(d=f.match(/firefox\/([\d.\d]+)/)){e.name="firefox";e.version=d[1]}else{if(d=/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(f)){e.name="opera";e.version=d[2]}}}}}a.browser=e;a.isIE=a.browser.name==="msie";a.isChrome=a.browser.name==="chrome";a.isOpera=a.browser.name==="opera";a.isFirefox=a.browser.name==="mozilla"})();a.uuid=function(){var h="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),f=[],e=0,g,d;for(d=0;d<36;d++){if(d===8||d===13||d===18||d===23){f[d]="-"}else{if(d===14){f[d]="4"}else{if(e<=2){e=33554432+(Math.random()*16777216)|0}g=e&15;e=e>>4;f[d]=h[(d==19)?(g&3)|8:g]}}}return f.join("")};a.String=(function(){var f=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,i=/\{(\d+)\}/g,h={'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;"},e={"&#39;":"'","&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"'},g=/(&|>|<|"|')/g,d=/(&amp;|&gt;|&lt;|&quot;|&#39;|&#[0-9]{1,5};)/g;return{trim:function(j){return j.replace(f,"")},format:function(n){var m,l=arguments,k=l.length,j=[];for(m=1;m<k;m++){j.push(l[m])}return n.replace(i,function(o,p){return j[p]})},leftPad:function(m,k,l){var j=""+m;if(Object.prototype.toString.call(l)!=="[object String]"){l=" "}while(j.length<k){j=l+j}return j},rightPad:function(m,k,l){var j=""+m;if(Object.prototype.toString.call(l)!=="[object String]"){l=" "}while(j.length<k){j+=l}return j},htmlEncode:function(j){if(Object.prototype.toString.call(j)==="[object String]"){return j.replace(g,function(k,l){return h[l]})}else{return j}},htmlDecode:function(j){if(Object.prototype.toString.call(j)==="[object String]"){return j.replace(d,function(k,l){return e[l]})}else{return j}}}})();a.Date=(function(){var d={dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],shortDayNames:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortMonthNames:["一","二","三","四","五","六","七","八","九","十","十一","十二"],am:"上午",pm:"下午",shortAm:"上",shortPm:"下"};function e(i,h){var g=""+i;while(g.length<h){g="0"+g}return g}var f=(function(){var m=/\d{2}/,k=/\d{4}/,j=/\d{1,2}/,i=/\d{1,3}/,h=/.{2}/,g=/.{1,2}/,l={yy:{regex:m,name:"year"},yyyy:{regex:k,name:"year"},MM:{regex:m,name:"month"},M:{regex:j,name:"month"},dd:{regex:m,name:"date"},d:{regex:j,name:"date"},HH:{regex:m,name:"hours"},H:{regex:j,name:"hours"},hh:{regex:m,name:"hours"},h:{regex:j,name:"hours"},mm:{regex:m,name:"minutes"},m:{regex:j,name:"minutes"},s:{regex:j,name:"seconds"},ss:{regex:m,name:"seconds"},tt:{regex:h,name:"t"},t:{regex:g,name:"t"},S:{regex:i,name:"millisecond"},SS:{regex:i,name:"millisecond"},SSS:{regex:i,name:"millisecond"}};return function(q,r,o){var n,p=l[q];if(p){n=r.match(p.regex);if(n){o[p.name]=n[0];return n[0]}}return null}})();return{locale:d,format:function(g,l){if(Object.prototype.toString.call(g)!=="[object Date]"){return""}if(Object.prototype.toString.call(l)!=="[object String]"||l===""){l="yyyy-MM-dd HH:mm:ss"}var p=g.getFullYear(),k=g.getMonth(),m=g.getDay(),h=g.getDate(),n=g.getHours(),j=g.getMinutes(),o=g.getSeconds(),i=g.getMilliseconds();return l.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|SS?S?)/g,function(r){if(r.charAt(0)==="\\"){return r.replace("\\","")}var q=a.Date.locale;switch(r){case"hh":return e(n<13?(n===0?12:n):(n-12),2);case"h":return n<13?(n===0?12:n):(n-12);case"HH":return e(n,2);case"H":return n;case"mm":return e(j,2);case"m":return j;case"ss":return e(o,2);case"s":return o;case"yyyy":return p;case"yy":return(p+"").substring(2);case"dddd":return q.dayNames[m];case"ddd":return q.shortDayNames[m];case"dd":return e(h,2);case"d":return h;case"MMMM":return q.monthNames[k];case"MMM":return q.shortMonthNames[k];case"MM":return e(k+1,2);case"M":return k+1;case"t":return n<12?q.shortAm:q.shortPm;case"tt":return n<12?q.am:q.pm;case"S":return i;case"SS":return e(i,2);case"SSS":return e(i,3);default:return r}})},parse:function(o,l){if(!o){return null}if(Object.prototype.toString.call(o)==="[object Date]"){return o}if(Object.prototype.toString.call(o)!=="[object String]"){return null}var n;if(Object.prototype.toString.call(l)!=="[object String]"||l===""){n=Date.parse(o);if(isNaN(n)){return null}return new Date(n)}var k,j,g,m=l.match(/(\\)?(dd?|MM?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|SS?S?|.)/g),h={year:0,month:1,date:0,hours:0,minutes:0,seconds:0,millisecond:0};for(k=0;k<m.length;k++){j=m[k];g=f(j,o,h);if(g!==null){if(o.length>g.length){o=o.substring(g.length)}else{o=""}}else{o=o.substring(j.length)}}if(h.t){if(a.Date.locale.pm===h.t||a.Date.locale.shortPm===h.t){h.hours=(+h.hours)+12}}h.month-=1;return new Date(h.year,h.month,h.date,h.hours,h.minutes,h.seconds,h.millisecond)}}})()})(window,$);(function(b,c,a){a.component={};a.registerManager={};a.prefixName="rhui.";a.register=function(e,d){if(!a.isString(e)||!a.isFunction(d)){return}a.registerManager[e]=d};a.unregister=function(d){if(!d.isString(d)){return}if(a.registerManager[d]!==undefined){a.registerManager[d]=undefined;delete a.registerManager[d]}};a.instanceManager={};a.getById=function(d){return a.instanceManager[d]};a.getCmp=function(f,g){if(!a.isString(f)){return null}var e=a.registerManager[f];if(!e){return null}if(!a.isFunction(e.initTarget)){return null}var d=e.initTarget(g);if(!d){return null}return d.data(a.prefixName+f)};a.addInstance=function(d){a.instanceManager[d.id]=d};a.removeInstance=function(d){var e,f;if(a.isString(d)){f=d}else{if(d!==null&&d!==undefined&&a.isString(d.id)){f=d.id}}if(f){e=a.instanceManager[f];if(e!==undefined){a.instanceManager[f]=undefined;delete a.instanceManager[f]}}};a.create=function(e,g,f){if(!a.isString(e)){return null}var d=a.registerManager[e];if(!d){return null}return new d(g,f)};c.fn.extend({rhui:function(d,e){if(this.length===0){return}return a.create(d,this,e)}});a.inherit=function(f,g){function d(){}d.prototype=g.prototype;var e=new d();e.constructor=f;f.prototype=e}})(window,$,window.Rhui);(function(c,d,b){var a=b.component.AbstractComponent=function(f,e){this.target=f;this.options=e;this.id=e.id;if(!b.isString(this.id)||this.id===""||this.id==="undefined"||this.id==="null"){this.id="rhui"+b.uuid().replace(/-/g,"").toLowerCase()}this.events=e.events||{};if(this.$target&&this.$target instanceof d){this.$target.data(this.fullName,this)}b.addInstance(this);if(b.isFunction(this.events.onInit)){this.events.onInit.call(this,this)}};a.cmpName="abstract";a.prototype.name=a.cmpName;a.fullName=b.prefixName+"abstract";a.prototype.fullName=a.fullName;a.className="Rhui.component.AbstractComponent";a.prototype.className=a.className;a.prototype.defaults={id:undefined,cls:undefined,style:undefined,events:{onInit:undefined,onShow:undefined,onHide:undefined,onDestroy:undefined,onResize:undefined,onExpand:undefined,onCollapse:undefined}};a.prototype.getId=function(){return this.id};a.prototype.getWidth=function(){return this.width};a.prototype.setWidth=function(e){if(b.isNumber(e)&&e>0){this.width=e;this.$self.outerWidth(e,true)}return this};a.prototype.getHeight=function(){return this.height};a.prototype.setHeight=function(e){if(b.isNumber(e)&&e>0){this.height=e;this.$self.outerHeight(e,true)}return this};a.prototype.renderTo=function(f){var e;if(f===undefined||f===null){return this}if(b.isString(f)&&d.trim(f)!==""){e=d(f)}else{if(f.jquery||f instanceof d){e=f}else{if(b.isHTMLElement(f)){e=d(f)}}}if(e===undefined||e.length===0){return this}if(e.length>1){e=e.first()}e.append(this.$self);return this};a.prototype.resize=function(h,e,f){var g=this,i=g.$self;if(b.isNumber(h)&&h>0){g.width=h;i.outerWidth(h,true)}if(b.isNumber(e)&&e>1){g.height=e;i.outerHeight(e,true)}if(!f&&b.isFunction(g.events.onResize)){g.events.onResize.call(g,g)}return this};a.prototype.autosize=function(e){var f=this,g=f.$self;g.width("auto");g.height("auto");f.width=g.outerWidth(true);f.height=g.outerHeight(true);if(!e&&b.isFunction(f.events.onResize)){f.events.onResize.call(f,f)}return f};a.prototype.show=function(e){this.$self.show();if(this.$overlay){this.$overlay.show()}this.hidden=false;if(e!==true&&b.isFunction(this.events.onShow)){this.events.onShow.call(this,this)}return this};a.prototype.hide=function(e){this.$self.hide();if(this.$overlay){this.$overlay.hide()}this.hidden=true;if(e!==true&&b.isFunction(this.events.onHide)){this.events.onHide.call(this,this)}return this};a.prototype.isHidden=function(){return this.hidden};a.prototype.addEvent=function(e,f){if(b.isString(e)&&b.isFunction(f)){this.events[e]=f}return this};a.prototype.addEvents=function(e){if(b.isObject(e)){d.extend(this.events,e)}return this};a.prototype.removeEvent=function(e){if(b.isString(e)){this.events[e]=undefined}return this};a.prototype.triggerEvent=function(e){var f;if(b.isString(e)){f=this.events[e];if(b.isFunction(f)){f.call(this,this)}}return this};a.prototype.baseDestroy=function(e){this.target=undefined;this.options=undefined;if(this.$overlay){this.$overlay.remove();this.$overlay=undefined}this.$target.removeData(this.fullName);this.$target=undefined;this.$self.remove();this.$self=undefined;b.removeInstance(this.id);var f=this.events.onDestroy;this.events=undefined;if(e!==true&&b.isFunction(f)){f.call(this,this)}}})(window,$,window.Rhui);(function(d,e,b,a){var c=b.component.Loading=function(j,i){var f=c.initTarget(j);if(i===null||i===undefined){i={}}else{if(b.isString(i)){i={message:i}}}var h=i.events;i=e.extend({},this.defaults,i||{});i.events=e.extend({},i.events,h||{});var g=f.data(this.fullName);if(g&&g instanceof b.component.Loading){g.setMessage(i.message);return g}this.$target=f;this.options=i;this.targetStatic=false;this.fixed=f.get(0)===a.body;this._init(j)};b.inherit(c,b.component.AbstractComponent);c.cmpName="loading";c.prototype.name=c.cmpName;c.fullName=b.prefixName+"loading";c.prototype.fullName=c.fullName;c.className="Rhui.component.Loading";c.prototype.className=c.className;b.register(c.cmpName,c);c.prototype.defaults={message:"请稍候。。。",events:{}};c.initTarget=function(g){var f;if(g===d||g===undefined||g===null||g===a||g===a.body){f=e("body")}else{if(g.jquery||g instanceof e){if(g.length===0||g[0]===d||g[0]===a){f=e("body")}else{if(g.length===1){f=g}else{f=g.first()}}}else{f=e(g);if(f.length===0){f=e("body")}else{if(f.length!==1){f=f.first()}}}}return f};c.prototype._init=function(h){var f=this.$target,g=this.options;if(f.get(0)!==a.body&&f.css("position")==="static"){f.css("position","relative");this.targetStatic=true}if(this.fixed){this.$overlay=e('<div class="rhui-overlay" style="position:fixed;"></div>');this.$self=e('<div class="rhui-loading" style="position:fixed;">'+g.message+"</div>")}else{this.$overlay=e('<div class="rhui-overlay"></div>');this.$self=e('<div class="rhui-loading">'+g.message+"</div>")}if(b.isString(g.cls)){this.$self.addClass(g.cls)}if(b.isObject(g.style)){this.$self.css(g.style)}this.$overlay.appendTo(f);this.$self.appendTo(f);b.component.AbstractComponent.call(this,h,g);this.show();if(b.isNumber(g.width)&&g.width>0){this.width=g.width;this.$self.outerWidth(this.width,true)}else{this.width=this.$self.outerWidth(true)}if(b.isNumber(g.height)&&g.height>0){this.height=g.height;this.$self.outerHeight(this.height,true)}else{this.height=this.$self.outerHeight(true)}this.center()};c.prototype.destroy=function(f){if(this.targetStatic){this.$target.css("position","static")}return this.baseDestroy(f)};c.prototype.resize=function(i,f,g){var h=this,j=h.$self;if(b.isNumber(i)&&i>0){h.width=i;j.outerWidth(i,true)}if(b.isNumber(f)&&f>1){h.height=f;j.outerHeight(f,true)}h.center();if(!g&&b.isFunction(h.events.onResize)){h.events.onResize.call(h,h)}return h};c.prototype.center=function(){var h,f=this.$target,g=this.$self;if(this.fixed){h=e(d);g.css({left:(h.width()-this.width)/2,top:(h.height()-this.height)/2})}else{g.css({left:(f.innerWidth()-this.width)/2,top:(f.innerHeight()-this.height)/2})}};c.prototype.setMessage=function(g,f){this.$self.html(g);this.autosize(f).center();return this};b.loading=function(g,f){if(b.isString(f)){f={message:f}}return new c(g,f)};b.unloading=function(g){var h,f=c.initTarget(g);if(f){h=f.data(c.fullName);if(h){h.destroy()}}}})(window,$,window.Rhui,window.document);(function(d,c,e,a){var b=c.component.Toolbar=function(k,j){var h=this,f=b.initTarget(k);if(!f){return null}var g=f.data(this.fullName);if(g&&g instanceof b){return g}if(j===null||j===undefined){j={}}this.$target=f;this.$self=f;this.associate=j.associate;var i=j.events;j=e.extend({},this.defaults,j||{});j.events=e.extend({},j.events,i||{});this.options=j;var l=this.$self;if(!l.hasClass("rhui-toolbar")){l.addClass("rhui-toolbar")}this.$tools=[];this.addTools(j.tools);if(c.isString(j.cls)&&j.cls!==""){l.addClass(j.cls)}if(c.isObject(j.style)){l.css(j.style)}c.component.AbstractComponent.call(this,k,j);h.resize(j.width,j.height,true);this.width=l.outerWidth(true);this.height=l.outerHeight(true)};c.inherit(b,c.component.AbstractComponent);b.cmpName="toolbar";b.prototype.name=b.cmpName;b.fullName=c.prefixName+"toolbar";b.prototype.fullName=b.fullName;b.className="Rhui.component.Toolbar";b.prototype.className=b.className;c.register(b.cmpName,b);b.prototype.defaults={associate:undefined,tools:undefined,cls:undefined,style:undefined,width:undefined,height:undefined,events:{onInit:undefined,onShow:undefined,onHide:undefined,onDestroy:undefined,onResize:undefined}};b.initTarget=function(g){var f;if(g!==undefined&&g!==null&&g!==d&&g!==a){if(g.jquery||g instanceof e){f=g}else{if(c.isString(g)||c.isHTMLElement(g)){f=e(g)}}}if(f!==undefined){if(f.length>1){f=f.first()}else{if(f.length===0){f=undefined}}}return f};b.prototype.destroy=function(f){this.associate=undefined;e.each(this.$tools,function(h,g){g.remove()});this.$tools=undefined;this.baseDestroy(f)};b.prototype.addTool=function(g){var f=this,i,h;g=c.isString(g)?c.tools[g]:g;if(c.isObject(g)){h=g.type;if(h==="separator"){i=e('<div class="rhui-toolbar-tool rhui-toolbar-separator"></div>')}else{if(c.isString(g.name)){i=e('<div class="rhui-btn rhui-toolbar-tool" data-rhui-tool-name="'+g.name+'">'+g.text+"</div>")}else{i=e('<div class="rhui-btn rhui-toolbar-tool">'+g.text+"</div>")}}if(c.isObject(g.style)){i.css(g.style)}if(c.isString(g.cls)&&g.cls!==""){i.addClass(g.cls)}i.on("click",function(j){if(c.isFunction(g.click)){g.click.call(this,f,f.associate,j)}return false});f.$self.append(i);f.$tools.push(i)}return this};b.prototype.addTools=function(g){var f;if(c.isArray(g)&&g.length>0){for(f=0;f<g.length;f++){this.addTool(g[f])}}return this};b.prototype.removeTool=function(g){var h,f=this,k,j=f.$tools;if(c.isString(g)&&g!==""){for(h=0;h<j.length;h++){k=j[h];if(k.attr("data-rhui-tool-name")===g){k.remove();break}}if(h<j.length){j.splice(h,1)}}};c.toolbar=function(g,f){return new b(g,f)};c.tools={close:{name:"close",type:"button",text:"&times;",cls:undefined,style:{"font-size":"16px","font-weight":"bold"},click:function(g,f){if(!f){return}if(f.closeAction==="destroy"){f.destroy()}else{f.hide()}}},toggle:{name:"toggle",type:"button",text:"toggle",cls:undefined,click:function(g,f){if(!f||!c.isFunction(f.isExpanded)){return}if(f.isExpanded()){f.expand()}else{f.collapse()}}}}})(window,window.Rhui,window.$,window.document);(function(c,b,e,a){var d=b.component.Panel=function(k,j){var h=this,f=d.initTarget(k);if(!f){return null}var g=f.data(this.fullName);if(g&&g instanceof b.component.Panel){return g}this.$target=f;this.$self=f;if(j===null||j===undefined){j={}}var i=j.events;j=e.extend({},this.defaults,j||{});j.events=e.extend({},j.events,i||{});this.options=j;this.expanded=j.expanded;var l=this.$self;if(!l.hasClass("rhui-panel")){l.addClass("rhui-panel")}this.renderTo(j.renderTo);this.$header=l.children(".rhui-panel-header");if(this.$header.length===0){this.$header=e('<div class="rhui-panel-header"><div class="rhui-panel-header-title"></div><div class="rhui-toolbar"></div></div>');l.prepend(this.$header)}this.$title=this.$header.children(".rhui-panel-header-title");if(this.$title.length===0){this.$title=e('<div class="rhui-panel-header-title"></div>');this.$header.prepend(this.$title)}this._initHeaderToolbar();this.$body=l.children(".rhui-panel-body");if(this.$body.length===0){this.$body=e('<div class="rhui-panel-body"></div>');this.$body.insertAfter(this.$header)}if(b.isString(j.title)){this.$title.html(j.title);this.title=j.title}if(b.isString(j.bodyCls)&&j.bodyCls!==""){this.$body.addClass(j.bodyCls)}if(b.isObject(j.bodyStyle)){this.$body.css(j.bodyStyle)}if(j.content!==undefined&&j.content!==null){if(b.isString(j.content)||j.content.jquery||j.content instanceof e){this.$body.html(j.content)}else{if(b.isObject(j.content)){if(b.isString(j.content.url)){if(j.content.iframe===true){this.loadIframe(j.content.url)}else{this.load(j.content.url)}}}}}if(b.isString(j.cls)&&j.cls!==""){l.addClass(j.cls)}if(b.isObject(j.style)){l.css(j.style)}if(j.isBodySize===true){h.setBodySize(j.width,j.height,true)}else{h.resize(j.width,j.height,true)}b.component.AbstractComponent.call(this,k,j)};b.inherit(d,b.component.AbstractComponent);d.cmpName="panel";d.prototype.name=d.cmpName;d.fullName=b.prefixName+"panel";d.prototype.fullName=d.fullName;d.className="Rhui.component.Panel";d.prototype.className=d.className;b.register(d.cmpName,d);d.prototype.defaults={content:undefined,renderTo:undefined,expanded:true,cls:undefined,style:undefined,bodyCls:undefined,bodyStyle:undefined,closAction:"hide",title:undefined,isBodySize:false,width:undefined,height:undefined,headerTools:[],events:{onInit:undefined,onExpand:undefined,onCollapse:undefined,onShow:undefined,onHide:undefined,onResize:undefined,onDestroy:undefined}};d.initTarget=function(g){var f;if(g!==undefined&&g!==null&&g!==c&&g!==a){if(g.jquery||g instanceof e){f=g}else{if(b.isString(g)||b.isHTMLElement(g)){f=e(g)}}}if(f!==undefined){if(f.length>1){f=f.first()}else{if(f.length===0){f=undefined}}}return f};d.prototype._initHeaderToolbar=function(){var f=this.$header.children(".rhui-toolbar");if(f.length===0){f=e('<div class="rhui-toolbar"></div>');this.$header.append(f)}this.headerToolbar=b.toolbar(f,{associate:this,tools:this.options.headerTools})};d.prototype.getTitle=function(){return this.title};d.prototype.setTitle=function(f){this.title=f;this.$title.html(f);return this};d.prototype.getBody=function(){return this.$body};d.prototype.resize=function(i,f,g){var h=this,j=h.$self;if(b.isNumber(i)&&i>0){h.width=i;j.outerWidth(i,true)}if(b.isNumber(f)&&f>1){h.height=f;j.outerHeight(f,true);h.$body.outerHeight(j.height()-h.$header.outerHeight(true))}if(!g&&b.isFunction(h.events.onResize)){h.events.onResize.call(h,h)}return this};d.prototype.setBodySize=function(i,f,g){var h=this,j=h.$self;if(b.isNumber(i)&&i>0){h.$body.outerWidth(i,true);j.width(i)}if(b.isNumber(f)&&f>1){h.$body.outerHeight(f,true);j.height(f+h.$header.outerHeight(true))}h.width=h.$self.outerWidth(true);h.height=h.$self.outerHeight(true);if(!g&&b.isFunction(h.events.onResize)){h.events.onResize.call(h,h)}return h};d.prototype.isExpanded=function(){return this.expanded};d.prototype.expand=function(f){this.expanded=true;this.$body.show();this.$self.height(this.$header.outerHeight(true)+this.$body.outerHeight(true));this.$self.css("border-bottom-width",1);if(f!==true&&b.isFunction(this.events.onExpand)){this.events.onExpand.call(this,this)}return this};d.prototype.collapse=function(f){this.expanded=false;this.$body.hide();this.$self.height(this.$header.outerHeight(true));this.$self.css("border-bottom-width",0);if(f!==true&&b.isFunction(this.events.onCollapse)){this.events.onCollapse.call(this,this)}return this};d.prototype.load=function(i,m,g,f,l){var h=this,k=h.$body,j={};k.rhui("loading","加载中。。。");j.url=i;j.success=function(n){k.rhui("loading").destroy();k.html(n);if(b.isFunction(g)){g.call(h,h,n)}};j.failure=function(){k.rhui("loading").destroy();if(b.isFunction(f)){f.call(h,h)}};if(b.isNumber(l)&&l>15000){j.timeout=l}if(b.isObject(m)){j.data=m;j.type="post"}e.ajax(j);return h};d.prototype.loadIframe=function(g){var f=this,h=f.$body,i=h.children("iframe");if(i.length===0){h.children().each(function(){this.remove()});h.html('<iframe frameborder="0" src="'+g+'" style="width:100%;height:100%;margin:0;padding:0;border-width:0;outline-width:0;"></iframe>')}else{i.attr("src",g)}return f};d.prototype.destroy=function(f){var g=this;g.$title.remove();g.$title=undefined;g.headerToolbar.destroy();g.headerToolbar=undefined;g.$header.remove();g.$header=undefined;g.$body.remove();g.$body=undefined;this.baseDestroy(f)};b.panel=function(g,f){return new d(g,f)}})(window,window.Rhui,window.$,window.document);(function(d,c,e,a){var b=c.component.Window=function(j,i){var f=b.initTarget(j);if(!f){return null}var g=f.data(this.fullName);if(g&&g instanceof c.component.Window){return g}if(!f.hasClass("rhui-window")){f.addClass("rhui-window")}if(f[0].parentNode!==a.body){e(a.body).append(f)}f.children(".rhui-window-body").addClass("rhui-panel-body");if(i===null||i===undefined){i={}}var h=i.events;i=e.extend({},this.defaults,i||{});i.events=e.extend({},i.events,h||{});i.renderTo=a.body;this._initFooter(f,i);this.modal=false;if(i.modal===true){this.modal=true;this.$overlay=e('<div class="rhui-overlay" style="position:fixed;"></div>');e("body").append(this.$overlay)}c.component.Panel.call(this,f,i);this.center();if(i.autoShow){this.show()}else{this.hide()}};c.inherit(b,c.component.Panel);b.cmpName="window";b.prototype.name=b.cmpName;b.fullName=c.prefixName+"window";b.prototype.fullName=b.fullName;b.className="Rhui.component.Window";b.prototype.className=b.className;c.register(b.cmpName,b);b.prototype.defaults={autoShow:true,content:undefined,expanded:true,modal:true,hideFooter:false,cls:undefined,style:undefined,bodyCls:undefined,bodyStyle:undefined,title:"窗口",buttons:[{text:"关闭",cls:undefined,style:undefined,click:function(f,g){g.hide()}}],closeAction:"hide",buttonAlign:"center",isBodySize:false,width:450,height:300,headerTools:["close"],events:{onInit:undefined,onExpand:undefined,onCollapse:undefined,onResize:undefined,onShow:undefined,onHide:undefined,onDestroy:undefined}};b.initTarget=function(g){var f;if(g!==undefined&&g!==null&&g!==d&&g!==a){if(g.jquery||g instanceof e){f=g}else{if(c.isString(g)||c.isHTMLElement(g)){f=e(g)}}}if(f===undefined){if(f.length===0){f=undefined}else{if(f.length>1){f=f.first()}}}return f};b.prototype._initFooter=function(f,i){var g=f.children(".rhui-window-footer");if(g.length===0){g=e('<div class="rhui-window-footer"><div class="rhui-toolbar"></div></div>');f.append(g)}else{if(g.length!==1){g=g.first()}}var h=g.children(".rhui-toolbar");if(h.length===0){h=e('<div class="rhui-toolbar"></div>');g.append(h)}else{if(h.length!==1){h=h.first()}}this.$footer=g;this.buttonBar=c.toolbar(h,{associate:this,tools:i.buttons});this.$footer.css("text-align",i.buttonAlign);this.buttonBar.$self.children(".rhui-toolbar-tool").removeClass("rhui-toolbar-tool")};b.prototype.destroy=function(f){var g=this;if(this.buttonBar){this.buttonBar.destroy();this.buttonBar=undefined}if(this.$footer){this.$footer.remove();this.$footer=undefined}if(this.$overlay){this.$overlay.remove();this.$overlay=undefined}g.$title.remove();g.$title=undefined;g.headerToolbar.destroy();g.headerToolbar=undefined;g.$header.remove();g.$header=undefined;g.$body.remove();g.$body=undefined;this.baseDestroy(f)};b.prototype.resize=function(k,f,h){var i=this,l=this.$self,g=this.hideHeader?0:i.$header.outerHeight(true),j=this.hideFooter?0:i.$footer.outerHeight(true);if(c.isNumber(k)&&k>0){i.width=k;l.outerWidth(k,true)}if(c.isNumber(f)&&f>1){i.height=f;l.outerHeight(f,true);i.$body.outerHeight(l.height()-g-j)}if(!h&&c.isFunction(i.events.onResize)){i.events.onResize.call(i,i)}return this};b.prototype.setBodySize=function(k,f,h){var i=this,l=i.$self,g=this.hideHeader?0:i.$header.outerHeight(true),j=this.hideFooter?0:i.$footer.outerHeight(true);if(c.isNumber(k)&&k>0){i.$body.outerWidth(k,true);l.width(k)}if(c.isNumber(f)&&f>1){i.$body.outerHeight(f,true);l.height(f+g+j)}i.width=i.$self.outerWidth(true);i.height=i.$self.outerHeight(true);if(!h&&c.isFunction(i.events.onResize)){i.events.onResize.call(i,i)}return i};b.prototype.expand=function(g){this.expanded=true;this.$body.show();var f=0;if(!this.hideHeader){f=this.$header.outerHeight(true)}var h=0;if(!this.hideFooter){this.$footer.show();h=this.$footer.outerHeight(true)}this.$self.height(f+this.$body.outerHeight(true)+h);this.$self.css("border-bottom-width",1);if(g!==true&&c.isFunction(this.events.onExpand)){this.events.onExpand.call(this,this)}return this};b.prototype.collapse=function(f){this.expanded=false;this.$body.hide();if(!this.hideFooter){this.$footer.hide()}this.$self.height(this.$header.outerHeight(true));this.$self.css("border-bottom-width",0);if(f!==true&&c.isFunction(this.events.onCollapse)){this.events.onCollapse.call(this,this)}return this};b.prototype.center=function(){var f=this,g=e(d);f.$self.css({top:(g.height()-this.height)/2,left:(g.width()-this.width)/2});return this};b.prototype.moveTo=function(f,g){if(!c.isNumber(f)){f=0}if(!c.isNumber(g)){g=0}this.$self.css({top:g,left:f});return this};b.prototype.modeless=function(f){if(f===false){this.modal=true;this.$overlay.show()}else{this.modal=false;this.$overlay.hide()}return this};c.window=function(g,f){return new b(g,f)}})(window,window.Rhui,window.$,window.document);(function(c,b,d){function a(e){e=d.extend({},{title:"提示",closeAction:"destroy",buttonAlign:"right",modal:true,width:300,height:150,bodyCls:"rhui-dialog-body"},e||{});return b.window("<div></div>",e)}b.alert=function(i,h,e){var g=arguments.length,f;if(g===1&&b.isObject(i)){return a(i)}f={};f.content=b.isString(i)?i:"";f.title=b.isString(h)?h:"提示";f.buttons=[{text:"确定",cls:"rhui-btn-primary",click:function(l,j,k){if(b.isFunction(e)){e.call(this,j,k)}j.destroy()}}];return a(f)};b.confirm=function(i,h,e){var g=arguments.length,f;if(g===1&&b.isObject(i)){return a(i)}f={};f.content=b.isString(i)?i:"";f.title=b.isString(h)?h:"提示";f.buttons=[{text:"确定",cls:"rhui-btn-primary",click:function(l,j,k){if(b.isFunction(e)){e.call(this,true,j,k)}j.destroy()}},{text:"取消",click:function(l,j,k){if(b.isFunction(e)){e.call(this,false,j,k)}j.destroy()}}];return a(f)};b.prompt=function(j,i,f){var h=arguments.length,g,e="";if(h===1&&b.isObject(j)){g=j;if(b.isString(g.msg)){e+='<div style="text-align:left;">'+g.msg+"</div>"}e+='<div><input type="text" class="rhui-field" name="value" style="width:100%;" /></div>';g.content=d(e);return a(g)}g={};if(b.isString(j)){e+='<div style="text-align:left;">'+j+"</div>"}e+='<div><input type="text" class="rhui-field" name="value" style="width:100%;" /></div>';g.content=d(e);g.title=b.isString(i)?i:"提示";g.buttons=[{text:"确定",cls:"rhui-btn-primary",click:function(m,k,l){var n=d.trim(k.$body.find('[name="value"]').val());if(b.isFunction(f)){f.call(this,true,n,k,l)}k.destroy()}},{text:"取消",click:function(m,k,l){var n=d.trim(k.$body.find('[name="value"]').val());if(b.isFunction(f)){f.call(this,false,n,k,l)}k.destroy()}}];return a(g)}})(window,window.Rhui,window.$);